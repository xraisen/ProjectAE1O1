<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent + Model Context Protocol Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f9fafb;
        }
        .agent-card {
            transition: all 0.3s ease;
        }
        .agent-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .code-block {
            background-color: #1e293b;
            color: #e2e8f0;
            border-radius: 0.5rem;
            padding: 1rem;
            font-family: 'Courier New', Courier, monospace;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .step {
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        .step.active {
            opacity: 1;
        }
    </style>
</head>
<body class="min-h-screen pb-20">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-10">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">AI Agent + Model Context Protocol Generator</h1>
            <p class="text-xl text-gray-600">Build, Configure, and Deploy Specialized AI Agents</p>
            <div class="w-24 h-1 bg-blue-600 mx-auto mt-4 rounded-full"></div>
        </div>

        <!-- Main Content -->
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Left Panel - Configuration -->
            <div class="w-full lg:w-1/2">
                <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">1. Choose Your Agent Role</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div class="agent-card bg-blue-50 border border-blue-200 rounded-lg p-4 cursor-pointer" onclick="selectAgentRole('coder')">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-code text-2xl text-blue-600 mr-3"></i>
                                <h3 class="text-lg font-semibold">Code Master</h3>
                            </div>
                            <p class="text-sm text-gray-600">Specialized in writing, reviewing, and optimizing code</p>
                        </div>
                        
                        <div class="agent-card bg-purple-50 border border-purple-200 rounded-lg p-4 cursor-pointer" onclick="selectAgentRole('datascientist')">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-chart-line text-2xl text-purple-600 mr-3"></i>
                                <h3 class="text-lg font-semibold">Data Scientist</h3>
                            </div>
                            <p class="text-sm text-gray-600">Expert in data analysis, visualization, and modeling</p>
                        </div>
                        
                        <div class="agent-card bg-green-50 border border-green-200 rounded-lg p-4 cursor-pointer" onclick="selectAgentRole('aitrader')">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-chart-bar text-2xl text-green-600 mr-3"></i>
                                <h3 class="text-lg font-semibold">AI Trader</h3>
                            </div>
                            <p class="text-sm text-gray-600">Specialized in financial analysis and trading strategies</p>
                        </div>
                        
                        <div class="agent-card bg-red-50 border border-red-200 rounded-lg p-4 cursor-pointer" onclick="selectAgentRole('promptengineer')">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-magic text-2xl text-red-600 mr-3"></i>
                                <h3 class="text-lg font-semibold">Prompt Engineer</h3>
                            </div>
                            <p class="text-sm text-gray-600">Expert in crafting effective prompts for AI models</p>
                        </div>
                        
                        <div class="agent-card bg-yellow-50 border border-yellow-200 rounded-lg p-4 cursor-pointer" onclick="selectAgentRole('researcher')">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-search text-2xl text-yellow-600 mr-3"></i>
                                <h3 class="text-lg font-semibold">Researcher</h3>
                            </div>
                            <p class="text-sm text-gray-600">Specialized in deep research and information synthesis</p>
                        </div>
                        
                        <div class="agent-card bg-gray-50 border border-gray-200 rounded-lg p-4 cursor-pointer" onclick="selectAgentRole('custom')">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-cogs text-2xl text-gray-600 mr-3"></i>
                                <h3 class="text-lg font-semibold">Custom Agent</h3>
                            </div>
                            <p class="text-sm text-gray-600">Create your own specialized AI agent from scratch</p>
                        </div>
                    </div>

                    <div id="agentOptions" class="hidden">
                        <h2 class="text-2xl font-bold text-gray-800 mb-4">2. Configure Your <span id="selectedAgentTitle">Agent</span></h2>
                        
                        <!-- Programming Language Selection (for coder) -->
                        <div id="languageSelector" class="hidden mb-6">
                            <label class="block text-gray-700 font-medium mb-2">Programming Language:</label>
                            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2">
                                <button class="language-option px-4 py-2 border border-gray-300 rounded-md hover:bg-blue-50 hover:border-blue-300" data-lang="python">Python</button>
                                <button class="language-option px-4 py-2 border border-gray-300 rounded-md hover:bg-blue-50 hover:border-blue-300" data-lang="javascript">JavaScript</button>
                                <button class="language-option px-4 py-2 border border-gray-300 rounded-md hover:bg-blue-50 hover:border-blue-300" data-lang="java">Java</button>
                                <button class="language-option px-4 py-2 border border-gray-300 rounded-md hover:bg-blue-50 hover:border-blue-300" data-lang="csharp">C#</button>
                                <button class="language-option px-4 py-2 border border-gray-300 rounded-md hover:bg-blue-50 hover:border-blue-300" data-lang="go">Go</button>
                                <button class="language-option px-4 py-2 border border-gray-300 rounded-md hover:bg-blue-50 hover:border-blue-300" data-lang="rust">Rust</button>
                            </div>
                        </div>

                        <!-- Data Science Specialization (for data scientist) -->
                        <div id="dataSpecSelector" class="hidden mb-6">
                            <label class="block text-gray-700 font-medium mb-2">Specialization:</label>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                                <button class="spec-option px-4 py-2 border border-gray-300 rounded-md hover:bg-purple-50 hover:border-purple-300" data-spec="ml">Machine Learning</button>
                                <button class="spec-option px-4 py-2 border border-gray-300 rounded-md hover:bg-purple-50 hover:border-purple-300" data-spec="nlp">Natural Language Processing</button>
                                <button class="spec-option px-4 py-2 border border-gray-300 rounded-md hover:bg-purple-50 hover:border-purple-300" data-spec="cv">Computer Vision</button>
                                <button class="spec-option px-4 py-2 border border-gray-300 rounded-md hover:bg-purple-50 hover:border-purple-300" data-spec="ts">Time Series Analysis</button>
                            </div>
                        </div>

                        <!-- Trading Market (for AI trader) -->
                        <div id="marketSelector" class="hidden mb-6">
                            <label class="block text-gray-700 font-medium mb-2">Market Focus:</label>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                                <button class="market-option px-4 py-2 border border-gray-300 rounded-md hover:bg-green-50 hover:border-green-300" data-market="stocks">Stocks</button>
                                <button class="market-option px-4 py-2 border border-gray-300 rounded-md hover:bg-green-50 hover:border-green-300" data-market="crypto">Cryptocurrency</button>
                                <button class="market-option px-4 py-2 border border-gray-300 rounded-md hover:bg-green-50 hover:border-green-300" data-market="forex">Forex</button>
                                <button class="market-option px-4 py-2 border border-gray-300 rounded-md hover:bg-green-50 hover:border-green-300" data-market="futures">Futures</button>
                            </div>
                        </div>

                        <!-- General Configuration Options -->
                        <div class="mb-6">
                            <label class="block text-gray-700 font-medium mb-2">Agent Name:</label>
                            <input type="text" id="agentName" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Give your agent a name">
                        </div>

                        <div class="mb-6">
                            <label class="block text-gray-700 font-medium mb-2">Model Selection:</label>
                            <select id="modelSelection" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="gpt-4">GPT-4</option>
                                <option value="gpt-4-turbo">GPT-4 Turbo</option>
                                <option value="claude-3">Claude 3</option>
                                <option value="claude-3-opus">Claude 3 Opus</option>
                                <option value="llama-3">Llama 3</option>
                                <option value="mixtral">Mixtral</option>
                                <option value="custom">Custom Model (self-hosted)</option>
                            </select>
                        </div>

                        <div class="mb-6">
                            <label class="block text-gray-700 font-medium mb-2">Memory Storage:</label>
                            <select id="memoryStorage" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="vector">Vector Database (Chroma, FAISS)</option>
                                <option value="redis">Redis</option>
                                <option value="postgres">PostgreSQL</option>
                                <option value="sqlite">SQLite (local)</option>
                                <option value="pinecone">Pinecone</option>
                                <option value="qdrant">Qdrant</option>
                            </select>
                        </div>

                        <div class="mb-6">
                            <label class="block text-gray-700 font-medium mb-2">Agent Framework:</label>
                            <select id="agentFramework" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="crewai">CrewAI</option>
                                <option value="autogen">AutoGen (Microsoft)</option>
                                <option value="langchain">LangChain</option>
                                <option value="llamaindex">LlamaIndex</option>
                                <option value="langgraph">LangGraph</option>
                            </select>
                        </div>

                        <div class="mb-6">
                            <label class="block text-gray-700 font-medium mb-2">Deployment Platform:</label>
                            <select id="deploymentPlatform" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="local">Local Environment</option>
                                <option value="github">GitHub Pages</option>
                                <option value="vercel">Vercel</option>
                                <option value="heroku">Heroku</option>
                                <option value="aws">AWS Lambda</option>
                                <option value="azure">Azure Functions</option>
                                <option value="gcloud">Google Cloud Run</option>
                            </select>
                        </div>

                        <div class="mb-6">
                            <label class="block text-gray-700 font-medium mb-2">Custom Instructions (Optional):</label>
                            <textarea id="customInstructions" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" rows="4" placeholder="Add any custom instructions for your agent..."></textarea>
                        </div>

                        <button id="generateButton" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-md transition duration-200 flex items-center justify-center">
                            <i class="fas fa-bolt mr-2"></i> Generate Agent Configuration
                        </button>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Output -->
            <div class="w-full lg:w-1/2">
                <div id="outputPanel" class="bg-white rounded-lg shadow-lg p-6 mb-6 hidden">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">Your AI Agent Configuration</h2>
                    
                    <div class="flex mb-6">
                        <button class="tab-button px-4 py-2 font-medium border-b-2 border-blue-600 text-blue-600 active" data-tab="codeTab">Code</button>
                        <button class="tab-button px-4 py-2 font-medium border-b-2 border-transparent text-gray-500 hover:text-blue-600" data-tab="setupTab">Setup Guide</button>
                        <button class="tab-button px-4 py-2 font-medium border-b-2 border-transparent text-gray-500 hover:text-blue-600" data-tab="deployTab">Deployment</button>
                    </div>
                    
                    <div id="codeTab" class="tab-content active">
                        <div class="flex justify-between mb-2">
                            <span class="text-sm text-gray-600">agent_config.py</span>
                            <button onclick="copyToClipboard('codeBlock')" class="text-blue-600 hover:text-blue-800 text-sm flex items-center">
                                <i class="far fa-copy mr-1"></i> Copy Code
                            </button>
                        </div>
                        <pre id="codeBlock" class="code-block">
# AI Agent configuration will appear here
# Select your agent role and options
</pre>
                        
                        <div class="mt-6">
                            <h3 class="text-lg font-semibold text-gray-800 mb-2">Project Structure</h3>
                            <div class="bg-gray-100 p-4 rounded-md">
                                <pre class="text-sm text-gray-700">
├── agent_config.py       # Main agent configuration
├── requirements.txt      # Dependencies
├── memory/               # Memory storage components
│   └── db_connector.py
├── models/               # Model definition files
│   └── context.py
└── deploy/               # Deployment scripts
    └── server.py</pre>
                            </div>
                        </div>
                    </div>
                    
                    <div id="setupTab" class="tab-content">
                        <h3 class="text-lg font-semibold text-gray-800 mb-3">Setup Instructions</h3>
                        
                        <div class="space-y-4">
                            <div class="step active bg-gray-50 p-4 rounded-md border-l-4 border-blue-500">
                                <h4 class="font-medium text-gray-800">1. Environment Setup</h4>
                                <p class="text-gray-600 mt-1">Create a virtual environment and install dependencies:</p>
                                <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">
python -m venv venv
source venv/bin/activate  # On Windows use: venv\Scripts\activate
pip install -r requirements.txt</pre>
                            </div>
                            
                            <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                                <h4 class="font-medium text-gray-800">2. Configure Environment Variables</h4>
                                <p class="text-gray-600 mt-1">Create a .env file with your API keys and configuration:</p>
                                <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">
API_KEY=your_api_key_here
MODEL_NAME=<span id="setupModelName">gpt-4</span>
MEMORY_STORAGE=<span id="setupMemoryStorage">vector</span>
DEBUG=False</pre>
                            </div>
                            
                            <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                                <h4 class="font-medium text-gray-800">3. Initialize Memory Database</h4>
                                <p class="text-gray-600 mt-1">Run the initialization script for your selected memory storage:</p>
                                <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">
python memory/init_db.py</pre>
                            </div>
                            
                            <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                                <h4 class="font-medium text-gray-800">4. Test Agent Locally</h4>
                                <p class="text-gray-600 mt-1">Run the test script to verify your agent is working correctly:</p>
                                <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">
python test_agent.py</pre>
                            </div>
                        </div>
                    </div>
                    
                    <div id="deployTab" class="tab-content">
                        <h3 class="text-lg font-semibold text-gray-800 mb-3">Deployment Guide</h3>
                        
                        <div id="deployInstructions" class="space-y-4">
                            <!-- Deployment instructions will be injected here based on platform selection -->
                        </div>
                        
                        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mt-6">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-lightbulb text-yellow-400"></i>
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm text-yellow-700">
                                        Remember to keep your API keys secure and never commit them to public repositories. Use environment variables or secret management tools provided by your deployment platform.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">About AI Agent + MCP Framework</h2>
                    
                    <div class="prose max-w-none">
                        <p class="mb-3">The AI Agent + Model Context Protocol (MCP) framework provides a standardized way to build, deploy, and manage AI agents with specialized capabilities. This generator helps you quickly scaffold projects with best practices baked in.</p>
                        
                        <h3 class="text-xl font-semibold mt-4 mb-2">Key Features</h3>
                        <ul class="list-disc pl-5 space-y-1 mb-4">
                            <li>Pre-configured agent templates for common use cases</li>
                            <li>Memory management system for persistent agent state</li>
                            <li>Standardized interfaces for model interaction</li>
                            <li>Built-in deployment options for various platforms</li>
                            <li>Extensible architecture for custom capabilities</li>
                        </ul>
                        
                        <h3 class="text-xl font-semibold mt-4 mb-2">Framework Architecture</h3>
                        <p class="mb-3">The framework uses a modular design with these core components:</p>
                        
                        <div class="bg-gray-50 p-4 rounded-md mb-4">
                            <ol class="list-decimal pl-5 space-y-2">
                                <li><strong>Agent Core</strong>: Central logic and decision-making capabilities</li>
                                <li><strong>Memory System</strong>: Persistent storage for learned context and history</li>
                                <li><strong>Model Interface</strong>: Standardized API for LLM interaction</li>
                                <li><strong>Tool Connectors</strong>: Integrations with external services and APIs</li>
                                <li><strong>Deployment Adapters</strong>: Platform-specific deployment configurations</li>
                            </ol>
                        </div>
                        
                        <p>Select your agent type and configuration options on the left to generate a customized implementation that follows these best practices.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables to store configuration
        let selectedAgentRole = '';
        let selectedLanguage = '';
        let selectedSpec = '';
        let selectedMarket = '';
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Add event listeners for tab switching
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all tabs
                    document.querySelectorAll('.tab-button').forEach(btn => {
                        btn.classList.remove('active');
                        btn.classList.remove('text-blue-600');
                        btn.classList.remove('border-blue-600');
                        btn.classList.add('text-gray-500');
                        btn.classList.add('border-transparent');
                    });
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    this.classList.add('text-blue-600');
                    this.classList.add('border-blue-600');
                    this.classList.remove('text-gray-500');
                    this.classList.remove('border-transparent');
                    
                    // Hide all tab content
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Show the selected tab content
                    document.getElementById(this.dataset.tab).classList.add('active');
                });
            });
            
            // Add event listeners for setup step navigation
            document.querySelectorAll('.step').forEach((step, index) => {
                step.addEventListener('click', function() {
                    document.querySelectorAll('.step').forEach((s, i) => {
                        if (i <= index) {
                            s.classList.add('active');
                            s.classList.remove('border-gray-300');
                            s.classList.add('border-blue-500');
                        } else {
                            s.classList.remove('active');
                            s.classList.add('border-gray-300');
                            s.classList.remove('border-blue-500');
                        }
                    });
                });
            });
            
            // Language selection
            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.language-option').forEach(opt => {
                        opt.classList.remove('bg-blue-50');
                        opt.classList.remove('border-blue-300');
                    });
                    this.classList.add('bg-blue-50');
                    this.classList.add('border-blue-300');
                    selectedLanguage = this.dataset.lang;
                });
            });
            
            // Specialization selection
            document.querySelectorAll('.spec-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.spec-option').forEach(opt => {
                        opt.classList.remove('bg-purple-50');
                        opt.classList.remove('border-purple-300');
                    });
                    this.classList.add('bg-purple-50');
                    this.classList.add('border-purple-300');
                    selectedSpec = this.dataset.spec;
                });
            });
            
            // Market selection
            document.querySelectorAll('.market-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.market-option').forEach(opt => {
                        opt.classList.remove('bg-green-50');
                        opt.classList.remove('border-green-300');
                    });
                    this.classList.add('bg-green-50');
                    this.classList.add('border-green-300');
                    selectedMarket = this.dataset.market;
                });
            });
            
            // Generate button
            document.getElementById('generateButton').addEventListener('click', generateAgentConfiguration);
            
            // Deployment platform change
            document.getElementById('deploymentPlatform').addEventListener('change', updateDeploymentInstructions);
            
            // Model selection change
            document.getElementById('modelSelection').addEventListener('change', function() {
                document.getElementById('setupModelName').textContent = this.value;
            });
            
            // Memory storage change
            document.getElementById('memoryStorage').addEventListener('change', function() {
                document.getElementById('setupMemoryStorage').textContent = this.value;
            });
        });
        
        // Function to select agent role
        function selectAgentRole(role) {
            selectedAgentRole = role;
            
            // Update UI to show selected role
            document.getElementById('agentOptions').classList.remove('hidden');
            document.getElementById('selectedAgentTitle').textContent = 
                role === 'coder' ? 'Code Master' :
                role === 'datascientist' ? 'Data Scientist' :
                role === 'aitrader' ? 'AI Trader' :
                role === 'promptengineer' ? 'Prompt Engineer' :
                role === 'researcher' ? 'Researcher' : 'Custom Agent';
            
            // Show/hide specific options based on role
            document.getElementById('languageSelector').classList.toggle('hidden', role !== 'coder');
            document.getElementById('dataSpecSelector').classList.toggle('hidden', role !== 'datascientist');
            document.getElementById('marketSelector').classList.toggle('hidden', role !== 'aitrader');
            
            // Set default names based on role
            document.getElementById('agentName').value = 
                role === 'coder' ? 'CodeMaster' :
                role === 'datascientist' ? 'DataWizard' :
                role === 'aitrader' ? 'TradingExpert' :
                role === 'promptengineer' ? 'PromptCrafter' :
                role === 'researcher' ? 'ResearchMind' : 'CustomAgent';
        }
        
        // Function to generate agent configuration
        function generateAgentConfiguration() {
            const agentName = document.getElementById('agentName').value || 'MyAgent';
            const modelSelection = document.getElementById('modelSelection').value;
            const memoryStorage = document.getElementById('memoryStorage').value;
            const agentFramework = document.getElementById('agentFramework').value;
            const deploymentPlatform = document.getElementById('deploymentPlatform').value;
            const customInstructions = document.getElementById('customInstructions').value;
            
            // Show the output panel
            document.getElementById('outputPanel').classList.remove('hidden');
            
            // Generate code based on selections
            let code = generateCode(agentName, modelSelection, memoryStorage, agentFramework, customInstructions);
            document.getElementById('codeBlock').textContent = code;
            
            // Update deployment instructions
            updateDeploymentInstructions();
            
            // Switch to code tab
            document.querySelectorAll('.tab-button')[0].click();
        }
        
        // Function to update deployment instructions
        function updateDeploymentInstructions() {
            const platform = document.getElementById('deploymentPlatform').value;
            const agentName = document.getElementById('agentName').value || 'MyAgent';
            const framework = document.getElementById('agentFramework').value;
            
            let deployHTML = '';
            
            if (platform === 'local') {
                deployHTML = `
                <div class="step active bg-gray-50 p-4 rounded-md border-l-4 border-blue-500">
                    <h4 class="font-medium text-gray-800">1. Run Locally</h4>
                    <p class="text-gray-600 mt-1">Start your agent on your local machine:</p>
                    <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">python deploy/server.py --port 5000</pre>
                </div>
                <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                    <h4 class="font-medium text-gray-800">2. Access Your Agent</h4>
                    <p class="text-gray-600 mt-1">Your agent is now available at:</p>
                    <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">http://localhost:5000</pre>
                </div>`;
            } else if (platform === 'github') {
                deployHTML = `
                <div class="step active bg-gray-50 p-4 rounded-md border-l-4 border-blue-500">
                    <h4 class="font-medium text-gray-800">1. Create GitHub Repository</h4>
                    <p class="text-gray-600 mt-1">Create a new repository on GitHub for your agent.</p>
                </div>
                <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                    <h4 class="font-medium text-gray-800">2. Push Your Code</h4>
                    <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/yourusername/${agentName.toLowerCase()}.git
git push -u origin main</pre>
                </div>
                <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                    <h4 class="font-medium text-gray-800">3. Set Up GitHub Pages</h4>
                    <p class="text-gray-600 mt-1">Go to repository Settings > Pages and configure the source branch.</p>
                </div>`;
            } else if (platform === 'vercel') {
                deployHTML = `
                <div class="step active bg-gray-50 p-4 rounded-md border-l-4 border-blue-500">
                    <h4 class="font-medium text-gray-800">1. Push to GitHub</h4>
                    <p class="text-gray-600 mt-1">First, push your project to GitHub.</p>
                </div>
                <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                    <h4 class="font-medium text-gray-800">2. Connect to Vercel</h4>
                    <p class="text-gray-600 mt-1">Import your repository from GitHub into Vercel.</p>
                </div>
                <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                    <h4 class="font-medium text-gray-800">3. Configure Environment Variables</h4>
                    <p class="text-gray-600 mt-1">Add your API keys and configuration in Vercel's Environment Variables section.</p>
                </div>
                <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                    <h4 class="font-medium text-gray-800">4. Deploy</h4>
                    <p class="text-gray-600 mt-1">Click Deploy and Vercel will build and deploy your agent.</p>
                </div>`;
            } else if (platform === 'heroku') {
                deployHTML = `
                <div class="step active bg-gray-50 p-4 rounded-md border-l-4 border-blue-500">
                    <h4 class="font-medium text-gray-800">1. Create Heroku App</h4>
                    <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">
heroku create ${agentName.toLowerCase()}-agent</pre>
                </div>
                <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                    <h4 class="font-medium text-gray-800">2. Add Procfile</h4>
                    <p class="text-gray-600 mt-1">Create a Procfile with the following content:</p>
                    <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">web: gunicorn deploy.server:app</pre>
                </div>
                <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                    <h4 class="font-medium text-gray-800">3. Set Environment Variables</h4>
                    <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">
heroku config:set API_KEY=your_api_key_here
heroku config:set MODEL_NAME=${document.getElementById('modelSelection').value}
heroku config:set MEMORY_STORAGE=${document.getElementById('memoryStorage').value}</pre>
                </div>
                <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                    <h4 class="font-medium text-gray-800">4. Deploy to Heroku</h4>
                    <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">
git push heroku main</pre>
                </div>`;
            } else if (platform === 'aws') {
                deployHTML = `
                <div class="step active bg-gray-50 p-4 rounded-md border-l-4 border-blue-500">
                    <h4 class="font-medium text-gray-800">1. Prepare Lambda Function</h4>
                    <p class="text-gray-600 mt-1">Package your agent for AWS Lambda deployment.</p>
                    <pre class="bg-gray-100 p-2 rounded mt-2 overflow-x-auto text-sm">
pip install -t lambda_package -r requirements.txt
cp -r * lambda_package/
cd lambda_package
zip -r ../deployment.zip .</pre>
                </div>
                <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                    <h4 class="font-medium text-gray-800">2. Create Lambda Function</h4>
                    <p class="text-gray-600 mt-1">Create a new Lambda function in the AWS console and upload your zip package.</p>
                </div>
                <div class="step bg-gray-50 p-4 rounded-md border-l-4 border-gray-300">
                    <h4 class="font-medium text-gray-800">3. Configure API Gateway</h4>
                    <p class="text-gray-600 mt-1">Set up an API Gateway to create HTTP endpoints for your Lambda function.</p>
                </div>`;
            } else {
                deployHTML = `
                <div class="step active bg-gray-50 p-4 rounded-md border-l-4 border-blue-500">
                    <h4 class="font-medium text-gray-800">Deployment Configuration</h4>
                    <p class="text-gray-600 mt-1">Follow the platform-specific documentation for ${platform} to deploy your agent.</p>
                </div>`;
            }
            
            document.getElementById('deployInstructions').innerHTML = deployHTML;
        }
        
        // Function to generate code based on selections
        function generateCode(agentName, modelSelection, memoryStorage, agentFramework, customInstructions) {
            let imports = '';
            let config = '';
            let setupCode = '';
            let agentCode = '';
            
            // Create appropriate imports based on framework
            if (agentFramework === 'crewai') {
                imports = `import os
from crewai import Agent, Task, Crew
from crewai.tools import WebSearchTool, CalculatorTool
from dotenv import load_dotenv

# Load environment variables
load_dotenv()`;
                
                // Main configuration
                config = `
# Agent Configuration
AGENT_NAME = "${agentName}"
API_KEY = os.getenv("API_KEY")
MODEL_NAME = os.getenv("MODEL_NAME", "${modelSelection}")
MEMORY_STORAGE = os.getenv("MEMORY_STORAGE", "${memoryStorage}")`;
                
                // Agent setup
                if (selectedAgentRole === 'coder') {
                    agentCode = `
# Create a Code Master agent
code_master = Agent(
    name="${agentName}",
    role="Expert ${selectedLanguage || 'Python'} Developer",
    goal="Write high-quality, efficient, and maintainable ${selectedLanguage || 'Python'} code",
    backstory="You are an experienced ${selectedLanguage || 'Python'} developer with a deep understanding of software architecture and best practices.",
    verbose=True,
    allow_delegation=False,
    tools=[CalculatorTool()]
)

# Create tasks for the agent
code_task = Task(
    description="Write efficient and well-documented ${selectedLanguage || 'Python'} code based on requirements.",
    agent=code_master
)

# Create a crew with just one agent
crew = Crew(
    agents=[code_master],
    tasks=[code_task],
    verbose=True
)

def process_request(request_text):
    """Process a coding request"""
    result = crew.kickoff(inputs={"request": request_text})
    return result
`;
                } else if (selectedAgentRole === 'datascientist') {
                    agentCode = `
# Create a Data Science agent
data_scientist = Agent(
    name="${agentName}",
    role="Expert Data Scientist specialized in ${selectedSpec || 'Machine Learning'}",
    goal="Analyze data and build predictive models using state-of-the-art techniques",
    backstory="You are a skilled data scientist with extensive experience in ${selectedSpec || 'Machine Learning'} and statistical analysis.",
    verbose=True,
    allow_delegation=False,
    tools=[CalculatorTool()]
)

# Create tasks for the agent
analysis_task = Task(
    description="Analyze data and provide insights or build models as requested.",
    agent=data_scientist
)

# Create a crew with just one agent
crew = Crew(
    agents=[data_scientist],
    tasks=[analysis_task],
    verbose=True
)

def process_request(request_text):
    """Process a data science request"""
    result = crew.kickoff(inputs={"request": request_text})
    return result
`;
                } else if (selectedAgentRole === 'aitrader') {
                    agentCode = `
# Create an AI Trader agent
ai_trader = Agent(
    name="${agentName}",
    role="Expert Financial Analyst and Trader specialized in ${selectedMarket || 'Stocks'}",
    goal="Analyze market data and provide trading recommendations",
    backstory="You are a seasoned financial analyst with deep knowledge of ${selectedMarket || 'stock'} markets and trading strategies.",
    verbose=True,
    allow_delegation=False,
    tools=[WebSearchTool(), CalculatorTool()]
)

# Create tasks for the agent
analysis_task = Task(
    description="Analyze market data and provide trading recommendations.",
    agent=ai_trader
)

# Create a crew with just one agent
crew = Crew(
    agents=[ai_trader],
    tasks=[analysis_task],
    verbose=True
)

def process_request(request_text):
    """Process a trading request"""
    result = crew.kickoff(inputs={"request": request_text})
    return result
`;
                } else if (selectedAgentRole === 'promptengineer') {
                    agentCode = `
# Create a Prompt Engineer agent
prompt_engineer = Agent(
    name="${agentName}",
    role="Expert Prompt Engineer",
    goal="Craft effective prompts for various AI models to achieve specific outcomes",
    backstory="You are a skilled prompt engineer with extensive experience in optimizing prompts for different AI applications.",
    verbose=True,
    allow_delegation=False
)

# Create tasks for the agent
prompt_task = Task(
    description="Design effective prompts based on the requested use case.",
    agent=prompt_engineer
)

# Create a crew with just one agent
crew = Crew(
    agents=[prompt_engineer],
    tasks=[prompt_task],
    verbose=True
)

def process_request(request_text):
    """Process a prompt engineering request"""
    result = crew.kickoff(inputs={"request": request_text})
    return result
`;
                } else if (selectedAgentRole === 'researcher') {
                    agentCode = `
# Create a Research agent
researcher = Agent(
    name="${agentName}",
    role="Expert Research Analyst",
    goal="Conduct thorough research and provide comprehensive analysis on any topic",
    backstory="You are a meticulous researcher with the ability to find, analyze, and synthesize information from various sources.",
    verbose=True,
    allow_delegation=False,
    tools=[WebSearchTool()]
)

# Create tasks for the agent
research_task = Task(
    description="Research the requested topic and provide a comprehensive analysis.",
    agent=researcher
)

# Create a crew with just one agent
crew = Crew(
    agents=[researcher],
    tasks=[research_task],
    verbose=True
)

def process_request(request_text):
    """Process a research request"""
    result = crew.kickoff(inputs={"request": request_text})
    return result
`;
                } else {
                    // Custom agent
                    agentCode = `
# Create a Custom agent
custom_agent = Agent(
    name="${agentName}",
    role="Specialized AI Assistant",
    goal="Provide assistance according to user requirements",
    backstory="You are a versatile AI assistant designed to help users with various tasks.",
    verbose=True,
    allow_delegation=False,
    tools=[WebSearchTool(), CalculatorTool()]
)

# Create tasks for the agent
custom_task = Task(
    description="Process user requests and provide helpful responses.",
    agent=custom_agent
)

# Create a crew with just one agent
crew = Crew(
    agents=[custom_agent],
    tasks=[custom_task],
    verbose=True
)

def process_request(request_text):
    """Process a custom request"""
    result = crew.kickoff(inputs={"request": request_text})
    return result
`;
                }
                
                // Memory setup
                setupCode = `
# Memory Storage Setup
def setup_memory():
    """Set up the memory storage system"""
    if MEMORY_STORAGE == "vector":
        from langchain.vectorstores import FAISS
        from langchain.embeddings import OpenAIEmbeddings
        
        embeddings = OpenAIEmbeddings(api_key=API_KEY)
        return FAISS.new_instance("memory_storage", embeddings)
    elif MEMORY_STORAGE == "redis":
        from langchain.vectorstores import Redis
        from langchain.embeddings import OpenAIEmbeddings
        
        redis_url = os.getenv("REDIS_URL", "redis://localhost:6379")
        embeddings = OpenAIEmbeddings(api_key=API_KEY)
        return Redis.from_documents([], embeddings, redis_url=redis_url)
    else:
        # Default to simple in-memory storage
        return {}

# Initialize memory
memory = setup_memory()`;
            } else if (agentFramework === 'autogen') {
                imports = `import os
import autogen
from dotenv import load_dotenv

# Load environment variables
load_dotenv()`;
                
                // Main configuration
                config = `
# Agent Configuration
AGENT_NAME = "${agentName}"
API_KEY = os.getenv("API_KEY")
MODEL_NAME = os.getenv("MODEL_NAME", "${modelSelection}")
MEMORY_STORAGE = os.getenv("MEMORY_STORAGE", "${memoryStorage}")

# Configure LLM
config_list = [
    {
        "model": MODEL_NAME,
        "api_key": API_KEY,
    }
]`;
                
                // Agent setup
                if (selectedAgentRole === 'coder') {
                    agentCode = `
# Create a Code Master agent
assistant_config = {
    "name": AGENT_NAME,
    "llm_config": {
        "config_list": config_list,
        "temperature": 0.5,
    },
    "system_message": f"""You are an expert ${selectedLanguage || 'Python'} developer named {AGENT_NAME}. 
Your goal is to write high-quality, efficient, and maintainable ${selectedLanguage || 'Python'} code.
${customInstructions}"""
}

# Initialize the agent
code_master = autogen.AssistantAgent(**assistant_config)

# Create a user proxy agent
user_proxy = autogen.UserProxyAgent(
    name="User",
    human_input_mode="TERMINATE",
    max_consecutive_auto_reply=10,
)

def process_request(request_text):
    """Process a coding request"""
    user_proxy.initiate_chat(code_master, message=request_text)
    # Return the last message from the conversation
    return code_master.chat_messages[user_proxy.name][-1]["content"]
`;
                } else if (selectedAgentRole === 'datascientist') {
                    agentCode = `
# Create a Data Science agent
assistant_config = {
    "name": AGENT_NAME,
    "llm_config": {
        "config_list": config_list,
        "temperature": 0.3,
    },
    "system_message": f"""You are an expert Data Scientist named {AGENT_NAME} specialized in ${selectedSpec || 'Machine Learning'}.
Your goal is to analyze data and build predictive models using state-of-the-art techniques.
${customInstructions}"""
}

# Initialize the agent
data_scientist = autogen.AssistantAgent(**assistant_config)

# Create a user proxy agent
user_proxy = autogen.UserProxyAgent(
    name="User",
    human_input_mode="TERMINATE",
    max_consecutive_auto_reply=10,
)

def process_request(request_text):
    """Process a data science request"""
    user_proxy.initiate_chat(data_scientist, message=request_text)
    # Return the last message from the conversation
    return data_scientist.chat_messages[user_proxy.name][-1]["content"]
`;
                } else if (selectedAgentRole === 'aitrader') {
                    agentCode = `
# Create an AI Trader agent
assistant_config = {
    "name": AGENT_NAME,
    "llm_config": {
        "config_list": config_list,
        "temperature": 0.2,
    },
    "system_message": f"""You are an expert Financial Analyst and Trader named {AGENT_NAME} specialized in ${selectedMarket || 'Stocks'}.
Your goal is to analyze market data and provide trading recommendations.
${customInstructions}"""
}

# Initialize the agent
ai_trader = autogen.AssistantAgent(**assistant_config)

# Create a user proxy agent
user_proxy = autogen.UserProxyAgent(
    name="User",
    human_input_mode="TERMINATE",
    max_consecutive_auto_reply=10,
)

def process_request(request_text):
    """Process a trading request"""
    user_proxy.initiate_chat(ai_trader, message=request_text)
    # Return the last message from the conversation
    return ai_trader.chat_messages[user_proxy.name][-1]["content"]
`;
                } else if (selectedAgentRole === 'promptengineer') {
                    agentCode = `
# Create a Prompt Engineer agent
assistant_config = {
    "name": AGENT_NAME,
    "llm_config": {
        "config_list": config_list,
        "temperature": 0.7,
    },
    "system_message": f"""You are an expert Prompt Engineer named {AGENT_NAME}.
Your goal is to craft effective prompts for various AI models to achieve specific outcomes.
${customInstructions}"""
}

# Initialize the agent
prompt_engineer = autogen.AssistantAgent(**assistant_config)

# Create a user proxy agent
user_proxy = autogen.UserProxyAgent(
    name="User",
    human_input_mode="TERMINATE",
    max_consecutive_auto_reply=10,
)

def process_request(request_text):
    """Process a prompt engineering request"""
    user_proxy.initiate_chat(prompt_engineer, message=request_text)
    # Return the last message from the conversation
    return prompt_engineer.chat_messages[user_proxy.name][-1]["content"]
`;
                } else if (selectedAgentRole === 'researcher') {
                    agentCode = `
# Create a Research agent
assistant_config = {
    "name": AGENT_NAME,
    "llm_config": {
        "config_list": config_list,
        "temperature": 0.3,
    },
    "system_message": f"""You are an expert Research Analyst named {AGENT_NAME}.
Your goal is to conduct thorough research and provide comprehensive analysis on any topic.
${customInstructions}"""
}

# Initialize the agent
researcher = autogen.AssistantAgent(**assistant_config)

# Create a user proxy agent
user_proxy = autogen.UserProxyAgent(
    name="User",
    human_input_mode="TERMINATE",
    max_consecutive_auto_reply=10,
)

def process_request(request_text):
    """Process a research request"""
    user_proxy.initiate_chat(researcher, message=request_text)
    # Return the last message from the conversation
    return researcher.chat_messages[user_proxy.name][-1]["content"]
`;
                } else {
                    // Custom agent
                    agentCode = `
# Create a Custom agent
assistant_config = {
    "name": AGENT_NAME,
    "llm_config": {
        "config_list": config_list,
        "temperature": 0.5,
    },
    "system_message": f"""You are a specialized AI Assistant named {AGENT_NAME}.
Your goal is to provide assistance according to user requirements.
${customInstructions}"""
}

# Initialize the agent
custom_agent = autogen.AssistantAgent(**assistant_config)

# Create a user proxy agent
user_proxy = autogen.UserProxyAgent(
    name="User",
    human_input_mode="TERMINATE",
    max_consecutive_auto_reply=10,
)

def process_request(request_text):
    """Process a custom request"""
    user_proxy.initiate_chat(custom_agent, message=request_text)
    # Return the last message from the conversation
    return custom_agent.chat_messages[user_proxy.name][-1]["content"]
`;
                }
                
                // Memory setup
                setupCode = `
# Memory Storage Setup
def setup_memory(agent):
    """Set up the memory storage system for an agent"""
    if MEMORY_STORAGE == "vector":
        from autogen.agentchat.contrib.memory import VectorMemory
        from autogen.agentchat.contrib.embedding import OpenAIEmbeddings
        
        embeddings = OpenAIEmbeddings(api_key=API_KEY)
        agent.register_memory(VectorMemory(embeddings, chat_history_path="memory_storage"))
    elif MEMORY_STORAGE == "redis":
        # Redis memory setup for autogen
        from autogen.agentchat.contrib.memory import RedisMemory
        
        redis_url = os.getenv("REDIS_URL", "redis://localhost:6379")
        agent.register_memory(RedisMemory(url=redis_url))`;
            } else if (agentFramework === 'llamaindex') {
                imports = `import os
from llama_index.core import Settings, VectorStoreIndex, Document
from llama_index.core.memory import ChatMemoryBuffer
from llama_index.core.agent import ReActAgent
from llama_index.llms.openai import OpenAI
from dotenv import load_dotenv

# Load environment variables
load_dotenv()`;
                
                // Main configuration
                config = `
# Agent Configuration
AGENT_NAME = "${agentName}"
API_KEY = os.getenv("API_KEY")
MODEL_NAME = os.getenv("MODEL_NAME", "${modelSelection}")
MEMORY_STORAGE = os.getenv("MEMORY_STORAGE", "${memoryStorage}")

# Configure LLM
Settings.llm = OpenAI(model=MODEL_NAME, api_key=API_KEY)`;
                
                // Agent setup
                if (selectedAgentRole === 'coder') {
                    agentCode = `
# Create a Code Master agent
system_prompt = f"""You are an expert ${selectedLanguage || 'Python'} developer named {AGENT_NAME}. 
Your goal is to write high-quality, efficient, and maintainable ${selectedLanguage || 'Python'} code.
${customInstructions}"""

# Initialize memory
memory = ChatMemoryBuffer.from_defaults(token_limit=1500)

# Initialize the agent
code_master = ReActAgent.from_tools(
    tools=[],  # You can add code-specific tools here
    llm=Settings.llm,
    memory=memory,
    system_prompt=system_prompt,
    verbose=True
)

def process_request(request_text):
    """Process a coding request"""
    response = code_master.chat(request_text)
    return str(response)
`;
                } else if (selectedAgentRole === 'datascientist') {
                    agentCode = `
# Create a Data Science agent
system_prompt = f"""You are an expert Data Scientist named {AGENT_NAME} specialized in ${selectedSpec || 'Machine Learning'}.
Your goal is to analyze data and build predictive models using state-of-the-art techniques.
${customInstructions}"""

# Initialize memory
memory = ChatMemoryBuffer.from_defaults(token_limit=1500)

# Initialize the agent
data_scientist = ReActAgent.from_tools(
    tools=[],  # You can add data science-specific tools here
    llm=Settings.llm,
    memory=memory,
    system_prompt=system_prompt,
    verbose=True
)

def process_request(request_text):
    """Process a data science request"""
    response = data_scientist.chat(request_text)
    return str(response)
`;
                } else if (selectedAgentRole === 'aitrader') {
                    agentCode = `
# Create an AI Trader agent
system_prompt = f"""You are an expert Financial Analyst and Trader named {AGENT_NAME} specialized in ${selectedMarket || 'Stocks'}.
Your goal is to analyze market data and provide trading recommendations.
${customInstructions}"""

# Initialize memory
memory = ChatMemoryBuffer.from_defaults(token_limit=1500)

# Initialize the agent
ai_trader = ReActAgent.from_tools(
    tools=[],  # You can add trading-specific tools here
    llm=Settings.llm,
    memory=memory,
    system_prompt=system_prompt,
    verbose=True
)

def process_request(request_text):
    """Process a trading request"""
    response = ai_trader.chat(request_text)
    return str(response)
`;
                } else if (selectedAgentRole === 'promptengineer') {
                    agentCode = `
# Create a Prompt Engineer agent
system_prompt = f"""You are an expert Prompt Engineer named {AGENT_NAME}.
Your goal is to craft effective prompts for various AI models to achieve specific outcomes.
${customInstructions}"""

# Initialize memory
memory = ChatMemoryBuffer.from_defaults(token_limit=1500)

# Initialize the agent
prompt_engineer = ReActAgent.from_tools(
    tools=[],  # You can add prompt-specific tools here
    llm=Settings.llm,
    memory=memory,
    system_prompt=system_prompt,
    verbose=True
)

def process_request(request_text):
    """Process a prompt engineering request"""
    response = prompt_engineer.chat(request_text)
    return str(response)
`;
                } else if (selectedAgentRole === 'researcher') {
                    agentCode = `
# Create a Research agent
system_prompt = f"""You are an expert Research Analyst named {AGENT_NAME}.
Your goal is to conduct thorough research and provide comprehensive analysis on any topic.
${customInstructions}"""

# Initialize memory
memory = ChatMemoryBuffer.from_defaults(token_limit=1500)

# Initialize the agent
researcher = ReActAgent.from_tools(
    tools=[],  # You can add research-specific tools here
    llm=Settings.llm,
    memory=memory,
    system_prompt=system_prompt,
    verbose=True
)

def process_request(request_text):
    """Process a research request"""
    response = researcher.chat(request_text)
    return str(response)
`;
                } else {
                    // Custom agent
                    agentCode = `
# Create a Custom agent
system_prompt = f"""You are a specialized AI Assistant named {AGENT_NAME}.
Your goal is to provide assistance according to user requirements.
${customInstructions}"""

# Initialize memory
memory = ChatMemoryBuffer.from_defaults(token_limit=1500)

# Initialize the agent
custom_agent = ReActAgent.from_tools(
    tools=[],  # You can add custom tools here
    llm=Settings.llm,
    memory=memory,
    system_prompt=system_prompt,
    verbose=True
)

def process_request(request_text):
    """Process a custom request"""
    response = custom_agent.chat(request_text)
    return str(response)
`;
                }
                
                // Memory setup for LlamaIndex
                setupCode = `
# Memory Storage Setup
def setup_vector_store():
    """Set up the vector store for document storage"""
    if MEMORY_STORAGE == "vector":
        from llama_index.vector_stores.faiss import FaissVectorStore
        
        return FaissVectorStore(dim=1536)
    elif MEMORY_STORAGE == "redis":
        from llama_index.vector_stores.redis import RedisVectorStore
        
        redis_url = os.getenv("REDIS_URL", "redis://localhost:6379")
        return RedisVectorStore(redis_url=redis_url)
    elif MEMORY_STORAGE == "postgres":
        from llama_index.vector_stores.postgres import PGVectorStore
        
        postgres_url = os.getenv("POSTGRES_URL", "postgresql://username:password@localhost:5432/db_name")
        return PGVectorStore.from_uri(postgres_url)
    elif MEMORY_STORAGE == "qdrant":
        from llama_index.vector_stores.qdrant import QdrantVectorStore
        
        return QdrantVectorStore(collection_name=f"{AGENT_NAME}_collection")
    else:
        # Default to simple vector store
        from llama_index.vector_stores.simple import SimpleVectorStore
        
        return SimpleVectorStore()

# Initialize vector store
vector_store = setup_vector_store()
`;
            } else {
                // Default to LangChain-like setup
                imports = `import os
from langchain.agents import ConversationalAgent, AgentExecutor
from langchain.chat_models import ChatOpenAI
from langchain.memory import ConversationBufferMemory
from dotenv import load_dotenv

# Load environment variables
load_dotenv()`;
                
                // Main configuration
                config = `
# Agent Configuration
AGENT_NAME = "${agentName}"
API_KEY = os.getenv("API_KEY")
MODEL_NAME = os.getenv("MODEL_NAME", "${modelSelection}")
MEMORY_STORAGE = os.getenv("MEMORY_STORAGE", "${memoryStorage}")`;
                
                // Memory setup
                setupCode = `
# Memory Storage Setup
def setup_memory():
    """Set up the memory storage system"""
    if MEMORY_STORAGE == "vector":
        from langchain.memory import VectorStoreRetrieverMemory
        from langchain.vectorstores import FAISS
        from langchain.embeddings import OpenAIEmbeddings
        
        embeddings = OpenAIEmbeddings(api_key=API_KEY)
        vectorstore = FAISS.from_texts(["Hello, world!"], embeddings)
        retriever = vectorstore.as_retriever(search_kwargs=dict(k=5))
        return VectorStoreRetrieverMemory(retriever=retriever)
    elif MEMORY_STORAGE == "redis":
        from langchain.memory import ConversationBufferMemory
        
        return ConversationBufferMemory(memory_key="chat_history")
    else:
        # Default to simple memory
        return ConversationBufferMemory(memory_key="chat_history")

# Initialize memory
memory = setup_memory()`;
                
                // Agent setup
                if (selectedAgentRole === 'coder') {
                    agentCode = `
# Create an LLM instance
llm = ChatOpenAI(
    model_name=MODEL_NAME,
    temperature=0.5,
    api_key=API_KEY
)

# Define the agent's system message
system_message = f"""You are an expert ${selectedLanguage || 'Python'} developer named {AGENT_NAME}. 
Your goal is to write high-quality, efficient, and maintainable ${selectedLanguage || 'Python'} code.
${customInstructions}"""

# Create the agent
code_master = ConversationalAgent.from_llm_and_tools(
    llm=llm,
    tools=[],  # Add coding tools here if needed
    system_message=system_message,
    verbose=True
)

# Create an agent executor
agent_executor = AgentExecutor.from_agent_and_tools(
    agent=code_master,
    tools=[],  # Same tools as above
    memory=memory,
    verbose=True,
    max_iterations=5
)

def process_request(request_text):
    """Process a coding request"""
    response = agent_executor.run(input=request_text)
    return response
`;
                } else if (selectedAgentRole === 'datascientist') {
                    agentCode = `
# Create an LLM instance
llm = ChatOpenAI(
    model_name=MODEL_NAME,
    temperature=0.3,
    api_key=API_KEY
)

# Define the agent's system message
system_message = f"""You are an expert Data Scientist named {AGENT_NAME} specialized in ${selectedSpec || 'Machine Learning'}.
Your goal is to analyze data and build predictive models using state-of-the-art techniques.
${customInstructions}"""

# Create the agent
data_scientist = ConversationalAgent.from_llm_and_tools(
    llm=llm,
    tools=[],  # Add data science tools here if needed
    system_message=system_message,
    verbose=True
)

# Create an agent executor
agent_executor = AgentExecutor.from_agent_and_tools(
    agent=data_scientist,
    tools=[],  # Same tools as above
    memory=memory,
    verbose=True,
    max_iterations=5
)

def process_request(request_text):
    """Process a data science request"""
    response = agent_executor.run(input=request_text)
    return response
`;
                } else if (selectedAgentRole === 'aitrader') {
                    agentCode = `
# Create an LLM instance
llm = ChatOpenAI(
    model_name=MODEL_NAME,
    temperature=0.2,
    api_key=API_KEY
)

# Define the agent's system message
system_message = f"""You are an expert Financial Analyst and Trader named {AGENT_NAME} specialized in ${selectedMarket || 'Stocks'}.
Your goal is to analyze market data and provide trading recommendations.
${customInstructions}"""

# Create the agent
ai_trader = ConversationalAgent.from_llm_and_tools(
    llm=llm,
    tools=[],  # Add trading tools here if needed
    system_message=system_message,
    verbose=True
)

# Create an agent executor
agent_executor = AgentExecutor.from_agent_and_tools(
    agent=ai_trader,
    tools=[],  # Same tools as above
    memory=memory,
    verbose=True,
    max_iterations=5
)

def process_request(request_text):
    """Process a trading request"""
    response = agent_executor.run(input=request_text)
    return response
`;
                } else if (selectedAgentRole === 'promptengineer') {
                    agentCode = `
# Create an LLM instance
llm = ChatOpenAI(
    model_name=MODEL_NAME,
    temperature=0.7,
    api_key=API_KEY
)

# Define the agent's system message
system_message = f"""You are an expert Prompt Engineer named {AGENT_NAME}.
Your goal is to craft effective prompts for various AI models to achieve specific outcomes.
${customInstructions}"""

# Create the agent
prompt_engineer = ConversationalAgent.from_llm_and_tools(
    llm=llm,
    tools=[],  # Add prompt tools here if needed
    system_message=system_message,
    verbose=True
)

# Create an agent executor
agent_executor = AgentExecutor.from_agent_and_tools(
    agent=prompt_engineer,
    tools=[],  # Same tools as above
    memory=memory,
    verbose=True,
    max_iterations=5
)

def process_request(request_text):
    """Process a prompt engineering request"""
    response = agent_executor.run(input=request_text)
    return response
`;
                } else if (selectedAgentRole === 'researcher') {
                    agentCode = `
# Create an LLM instance
llm = ChatOpenAI(
    model_name=MODEL_NAME,
    temperature=0.3,
    api_key=API_KEY
)

# Define the agent's system message
system_message = f"""You are an expert Research Analyst named {AGENT_NAME}.
Your goal is to conduct thorough research and provide comprehensive analysis on any topic.
${customInstructions}"""

# Create the agent
researcher = ConversationalAgent.from_llm_and_tools(
    llm=llm,
    tools=[],  # Add research tools here if needed
    system_message=system_message,
    verbose=True
)

# Create an agent executor
agent_executor = AgentExecutor.from_agent_and_tools(
    agent=researcher,
    tools=[],  # Same tools as above
    memory=memory,
    verbose=True,
    max_iterations=5
)

def process_request(request_text):
    """Process a research request"""
    response = agent_executor.run(input=request_text)
    return response
`;
                } else {
                    // Custom agent
                    agentCode = `
# Create an LLM instance
llm = ChatOpenAI(
    model_name=MODEL_NAME,
    temperature=0.5,
    api_key=API_KEY
)

# Define the agent's system message
system_message = f"""You are a specialized AI Assistant named {AGENT_NAME}.
Your goal is to provide assistance according to user requirements.
${customInstructions}"""

# Create the agent
custom_agent = ConversationalAgent.from_llm_and_tools(
    llm=llm,
    tools=[],  # Add custom tools here if needed
    system_message=system_message,
    verbose=True
)

# Create an agent executor
agent_executor = AgentExecutor.from_agent_and_tools(
    agent=custom_agent,
    tools=[],  # Same tools as above
    memory=memory,
    verbose=True,
    max_iterations=5
)

def process_request(request_text):
    """Process a custom request"""
    response = agent_executor.run(input=request_text)
    return response
`;
                }
            }
            
            // Create a Flask server setup
            const serverSetup = `
# ----- Server Setup -----
if __name__ == "__main__":
    # Simple test
    print(f"🤖 {AGENT_NAME} is ready to help!")
    while True:
        user_input = input("You: ")
        if user_input.lower() in ["exit", "quit", "bye"]:
            break
        response = process_request(user_input)
        print(f"{AGENT_NAME}: {response}")`;
            
            // Combine everything
            return `${imports}

${config}

${setupCode}

${agentCode}

${serverSetup}
`;
        }
        
        // Function to copy to clipboard
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            navigator.clipboard.writeText(text).then(function() {
                alert('Code copied to clipboard!');
            }, function(err) {
                console.error('Could not copy text: ', err);
            });
        }
    </script>
</body>
</html>
